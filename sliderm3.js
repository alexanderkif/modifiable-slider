!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=6)}([function(t,e,i){var n,o,r;o=[e],void 0===(r="function"==typeof(n=function(t){"use strict";t.__esModule=!0;var e={},i=Object.prototype.hasOwnProperty,n={memoize:function(t){var n=arguments.length<=1||void 0===arguments[1]?e:arguments[1],o=n.cache||{};return function(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];var a=String(r[0]);return!1===n.caseSensitive&&(a=a.toLowerCase()),i.call(o,a)?o[a]:o[a]=t.apply(this,r)}},debounce:function(t,e){if("function"==typeof e){var i=t;t=e,e=i}var n=e&&e.delay||e||0,o=void 0,r=void 0,s=void 0;return function(){for(var e=arguments.length,i=Array(e),a=0;a<e;a++)i[a]=arguments[a];o=i,r=this,s||(s=setTimeout(function(){t.apply(r,o),o=r=s=null},n))}},bind:function(t,e,i){var n=i.value;return{configurable:!0,get:function(){var t=n.bind(this);return Object.defineProperty(this,e,{value:t,configurable:!0,writable:!0}),t}}}},o=a(n.memoize),r=a(n.debounce),s=a(function(t,e){return t.bind(e)},function(){return n.bind});function a(t,e){var i,n=(e=e||t.decorate||(i=t,function(t){return"function"==typeof t?i(t):function(e,n,o){o.value=i(o.value,t,e,n,o)}}))();return function(){for(var i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];var s=o.length;return(s<2?e:s>2?n:t).apply(void 0,o)}}t.memoize=o,t.debounce=r,t.bind=s,t.default={memoize:o,debounce:r,bind:s}})?n.apply(e,o):n)||(t.exports=r)},,,,,function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(5);var n=i(0);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r,s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observers=[]}var e,i,n;return e=t,(i=[{key:"subscribe",value:function(t){this.observers.push(t)}},{key:"unsubscribe",value:function(t){this.observers=this.observers.filter(function(e){return e!==t})}},{key:"broadcast",value:function(t){this.observers.forEach(function(e){return e(t)})}}])&&o(e.prototype,i),n&&o(e,n),t}();function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e,i,n,o){var r={};return Object.keys(n).forEach(function(t){r[t]=n[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}var u,v=(p((r=function(t){function e(t){var i,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,i=!(o=h(e).call(this))||"object"!==a(o)&&"function"!=typeof o?d(n):o,Object.assign(d(d(i)),t),i}var i,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,s),i=e,(n=[{key:"setStartRange",value:function(t){this.startRange=t,this.checkStartRange(),this.broadcastModelChanged()}},{key:"checkStartRange",value:function(){+this.startRange>+this.endRange&&(this.startRange=this.endRange),+this.startRange<+this.min&&(this.startRange=this.min)}},{key:"setEndRange",value:function(t){this.endRange=t,this.checkEndRange(),this.broadcastModelChanged()}},{key:"checkEndRange",value:function(){this.interval&&+this.endRange<+this.startRange&&(this.endRange=this.startRange),!this.interval&&+this.endRange<+this.min&&(this.endRange=this.min),+this.endRange>+this.max&&(this.endRange=this.max)}},{key:"broadcastModelChanged",value:function(){var t=Object.assign({},this);delete t.observers,this.broadcast({model:t})}}])&&l(i.prototype,n),o&&l(i,o),e}()).prototype,"setStartRange",[n.bind],Object.getOwnPropertyDescriptor(r.prototype,"setStartRange"),r.prototype),p(r.prototype,"checkStartRange",[n.bind],Object.getOwnPropertyDescriptor(r.prototype,"checkStartRange"),r.prototype),p(r.prototype,"setEndRange",[n.bind],Object.getOwnPropertyDescriptor(r.prototype,"setEndRange"),r.prototype),p(r.prototype,"checkEndRange",[n.bind],Object.getOwnPropertyDescriptor(r.prototype,"checkEndRange"),r.prototype),r);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function y(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function D(t,e,i,n,o){var r={};return Object.keys(n).forEach(function(t){r[t]=n[t]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}var w,O=(D((u=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=y(this,g(e).call(this))).element=t,i.model=i.element.dataset,i.element.oncontextmenu=function(){return!1},i.element.ondragstart=function(){return!1},i.element.onselectstart=function(){return!1},i.draw(),i.element.addEventListener("draw",i.draw),document.addEventListener("mouseup",i.cancelMove),i.activePoint="no",window.addEventListener("resize",i.resizeThrottler),i.element.addEventListener("refreshView",i.refreshView),i}var i,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,s),i=e,(n=[{key:"refreshView",value:function(){this.broadcast({refreshModel:this.model}),this.draw()}},{key:"mouseDownListener",value:function(t){var e=this.isEventPositionLessThenEndPoint(t);this.model.interval&&e?this.activePoint="startPoint":this.activePoint="endPoint",this.setModelFromEvent(t),document.addEventListener("mousemove",this.mouseMoveListener),this.broadcastChangedPoint()}},{key:"isEventPositionLessThenEndPoint",value:function(t){return this.model.vertical?t.clientY>this.getCoords(this.point2Div).top+ +this.model.pointSize:t.clientX<this.getCoords(this.point2Div).left}},{key:"getCoords",value:function(t){var e=t.getBoundingClientRect();return{top:e.top,left:e.left}}},{key:"setModelFromEvent",value:function(t){"startPoint"==this.activePoint?this.model.startRange=this.getNewValueFromEvent(t):this.model.endRange=this.getNewValueFromEvent(t)}},{key:"getNewValueFromEvent",value:function(t){var e;return e=this.model.vertical?this.lineDiv.offsetHeight-(t.clientY-this.getCoords(this.lineDiv).top+ +this.model.lineHeight/2):t.clientX-this.getCoords(this.lineDiv).left-+this.model.lineHeight/2,this.model.step*Math.round((+this.model.min+e*this.range/this.rangeMaxWidth)/this.model.step)}},{key:"mouseMoveListener",value:function(t){"no"!=this.activePoint&&(this.setModelFromEvent(t),this.broadcastChangedPoint())}},{key:"broadcastChangedPoint",value:function(){"startPoint"==this.activePoint&&this.broadcast({setStartRange:this.model}),"endPoint"==this.activePoint&&this.broadcast({setEndRange:this.model})}},{key:"cancelMove",value:function(){this.activePoint="no",document.removeEventListener("mousemove",this.mouseMoveListener)}},{key:"resizeThrottler",value:function(){this.resizeTimeout||(this.resizeTimeout=setTimeout(function(){this.resizeTimeout=null,this.draw()}.bind(this),50))}},{key:"draw",value:function(){this.lineDiv&&this.lineDiv.remove(),this.drawLine(),this.model.scale&&this.drawScale(),this.drawRange(),this.model.interval&&this.drawStartPoint(),this.drawEndPoint()}},{key:"drawLine",value:function(){this.lineDiv=document.createElement("div"),this.lineDiv.className="sliderm3__line",this.model.vertical?(this.lineDiv.style.height=this.model.length,this.element.style.maxWidth="".concat(this.model.lineHeight,"px")):(this.lineDiv.style.height="".concat(this.model.lineHeight,"px"),this.element.style.maxWidth=this.model.length),this.lineDiv.style.borderRadius="".concat(this.model.lineHeight/2,"px"),this.lineDiv.style.backgroundColor=this.model.colorLine,this.element.appendChild(this.lineDiv),this.lineDiv.addEventListener("mousedown",this.mouseDownListener)}},{key:"drawScale",value:function(){var t;this.scaleDiv=document.createElement("ul"),this.scaleDiv.className="sliderm3__scale",this.scaleDiv.style.fontSize="".concat(3*this.model.pointSize/6,"px"),this.scaleDiv.style.color=this.model.colorScale,this.lineDiv.appendChild(this.scaleDiv),this.model.vertical?(this.scaleDiv.style.flexDirection="column-reverse",this.scaleDiv.style.left="".concat(+this.model.pointSize>+this.model.lineHeight?+this.model.lineHeight+(+this.model.pointSize-+this.model.lineHeight)/2+5:+this.model.lineHeight+5,"px"),this.scaleDiv.style.height="".concat(+this.lineDiv.offsetHeight,"px")):(this.scaleDiv.style.top="".concat(+this.model.pointSize>+this.model.lineHeight?+this.model.lineHeight+(+this.model.pointSize-+this.model.lineHeight)/2+5:+this.model.lineHeight+5,"px"),this.scaleDiv.style.width="".concat(+this.lineDiv.offsetWidth,"px"));for(var e=0;e<=this.model.intervals;e++)(t=document.createElement("li")).style.listStyleType="none",t.innerHTML=Math.round(+this.model.min+(this.model.max-this.model.min)*e/this.model.intervals),this.scaleDiv.appendChild(t)}},{key:"drawRange",value:function(){if(this.model.vertical?this.rangeMaxWidth=this.lineDiv.offsetHeight-this.model.lineHeight:this.rangeMaxWidth=this.lineDiv.offsetWidth-this.model.lineHeight,this.range=this.model.max-this.model.min,this.rangeDiv=document.createElement("div"),this.rangeDiv.className="sliderm3__range",this.model.interval){var t=(this.model.endRange-this.model.startRange)*this.rangeMaxWidth/this.range,e=(this.model.startRange-this.model.min)*this.rangeMaxWidth/this.range;this.model.vertical?(this.rangeDiv.style.height="".concat(t,"px"),this.rangeDiv.style.top="".concat(this.rangeMaxWidth-t-e+this.model.lineHeight/2,"px")):(this.rangeDiv.style.width="".concat(t,"px"),this.rangeDiv.style.left="".concat(e+this.model.lineHeight/2,"px"))}else{t=(this.model.endRange-this.model.min)*this.rangeMaxWidth/this.range;this.model.vertical?(this.rangeDiv.style.height="".concat(t,"px"),this.rangeDiv.style.top="".concat(this.rangeMaxWidth-t+this.model.lineHeight/2,"px")):(this.rangeDiv.style.width="".concat(t,"px"),this.rangeDiv.style.left="".concat(this.model.lineHeight/2,"px"))}if(this.lineDiv.appendChild(this.rangeDiv),this.pointRange=document.createElement("div"),this.pointRange.className="sliderm3__point-range",this.model.vertical){this.pointRange.style.width="".concat(this.model.lineHeight,"px");var i=+this.rangeDiv.offsetHeight+ +this.model.lineHeight;this.pointRange.style.height="".concat(i,"px"),this.pointRange.style.top="".concat(-this.model.lineHeight/2,"px")}else this.pointRange.style.height="".concat(this.model.lineHeight,"px"),this.pointRange.style.width="".concat(+this.rangeDiv.offsetWidth+ +this.model.lineHeight,"px"),this.pointRange.style.left="".concat(-this.model.lineHeight/2,"px");this.pointRange.style.borderRadius="".concat(this.model.lineHeight/2,"px"),this.pointRange.style.backgroundColor=this.model.colorRange,this.rangeDiv.appendChild(this.pointRange)}},{key:"drawStartPoint",value:function(){this.point1Div=document.createElement("div"),this.point1Div.className="sliderm3__point",this.point1Div.style.height=this.point1Div.style.width="".concat(this.model.pointSize,"px"),this.model.vertical?(this.point1Div.style.top="".concat(this.rangeDiv.offsetHeight-this.model.pointSize/2,"px"),this.point1Div.style.left="".concat(this.model.lineHeight/2-this.model.pointSize/2,"px")):(this.point1Div.style.top="".concat(this.lineDiv.offsetHeight/2-this.model.pointSize/2,"px"),this.point1Div.style.left="".concat(-this.model.pointSize/2,"px")),this.point1Div.style.backgroundColor=this.model.colorPoint,this.rangeDiv.appendChild(this.point1Div),this.model.hint&&this.drawHint(this.point1Div,this.model.startRange)}},{key:"drawEndPoint",value:function(){this.point2Div=document.createElement("div"),this.point2Div.className="sliderm3__point",this.point2Div.style.height=this.point2Div.style.width="".concat(this.model.pointSize,"px"),this.model.vertical?(this.point2Div.style.top="".concat(-this.model.pointSize/2,"px"),this.point2Div.style.left="".concat(this.model.lineHeight/2-this.model.pointSize/2,"px")):(this.point2Div.style.top="".concat(this.lineDiv.offsetHeight/2-this.model.pointSize/2,"px"),this.point2Div.style.left="".concat(this.rangeDiv.offsetWidth-this.model.pointSize/2,"px")),this.point2Div.style.backgroundColor=this.model.colorPoint,this.rangeDiv.appendChild(this.point2Div),this.model.hint&&this.drawHint(this.point2Div,this.model.endRange)}},{key:"drawHint",value:function(t,e){this.hintDiv=document.createElement("div"),this.hintDiv.className="sliderm3__hint",this.hintDiv.style.height="".concat(this.model.pointSize,"px"),this.hintDiv.style.fontSize="".concat(4*this.model.pointSize/6,"px"),this.hintDiv.style.color=this.model.colorText,this.hintDiv.innerHTML=Math.round(100*e)/100,t.appendChild(this.hintDiv),this.arrowDiv=document.createElement("div"),this.arrowDiv.className="sliderm3__arrow",this.arrowDiv.style.height="".concat(this.model.pointSize/3,"px"),this.arrowDiv.style.width="".concat(this.model.pointSize/3,"px"),this.hintDiv.appendChild(this.arrowDiv),this.model.vertical?(this.hintDiv.style.left="".concat(-this.model.pointSize/2-this.hintDiv.offsetWidth,"px"),this.hintDiv.style.top="".concat(this.model.pointSize/2-this.hintDiv.offsetHeight/2,"px"),this.arrowDiv.style.top="".concat(this.hintDiv.offsetHeight/2-this.arrowDiv.offsetHeight/2,"px"),this.arrowDiv.style.left="".concat(this.hintDiv.offsetWidth-this.arrowDiv.offsetWidth/2-1,"px")):(this.hintDiv.style.top="".concat(-this.model.pointSize/2-this.hintDiv.offsetHeight,"px"),this.hintDiv.style.left="".concat(this.model.pointSize/2-this.hintDiv.offsetWidth/2,"px"),this.arrowDiv.style.top="".concat(this.hintDiv.offsetHeight-this.arrowDiv.offsetHeight/2-1,"px"),this.arrowDiv.style.left="".concat(this.hintDiv.offsetWidth/2-this.arrowDiv.offsetWidth/2,"px"))}}])&&m(i.prototype,n),o&&m(i,o),e}()).prototype,"refreshView",[n.bind],Object.getOwnPropertyDescriptor(u.prototype,"refreshView"),u.prototype),D(u.prototype,"mouseDownListener",[n.bind],Object.getOwnPropertyDescriptor(u.prototype,"mouseDownListener"),u.prototype),D(u.prototype,"mouseMoveListener",[n.bind],Object.getOwnPropertyDescriptor(u.prototype,"mouseMoveListener"),u.prototype),D(u.prototype,"cancelMove",[n.bind],Object.getOwnPropertyDescriptor(u.prototype,"cancelMove"),u.prototype),D(u.prototype,"resizeThrottler",[n.bind],Object.getOwnPropertyDescriptor(u.prototype,"resizeThrottler"),u.prototype),D(u.prototype,"draw",[n.bind],Object.getOwnPropertyDescriptor(u.prototype,"draw"),u.prototype),D(u.prototype,"drawLine",[n.bind],Object.getOwnPropertyDescriptor(u.prototype,"drawLine"),u.prototype),D(u.prototype,"drawScale",[n.bind],Object.getOwnPropertyDescriptor(u.prototype,"drawScale"),u.prototype),D(u.prototype,"drawRange",[n.bind],Object.getOwnPropertyDescriptor(u.prototype,"drawRange"),u.prototype),D(u.prototype,"drawStartPoint",[n.bind],Object.getOwnPropertyDescriptor(u.prototype,"drawStartPoint"),u.prototype),D(u.prototype,"drawEndPoint",[n.bind],Object.getOwnPropertyDescriptor(u.prototype,"drawEndPoint"),u.prototype),D(u.prototype,"drawHint",[n.bind],Object.getOwnPropertyDescriptor(u.prototype,"drawHint"),u.prototype),u);function R(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var x,P,S,z,E,j,H=(x=(w=function(){function t(e,i){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.model=e,this.view=i,this.view.subscribe(function(t){return n.changeRange(t)}),this.model.subscribe(function(t){Object.assign(n.view.element.dataset,t.model),n.view.draw()})}var e,i,n;return e=t,(i=[{key:"changeRange",value:function(t){t.refreshModel&&Object.assign(this.model,t.refreshModel),t.setStartRange&&this.model.setStartRange(t.setStartRange.startRange),t.setEndRange&&this.model.setEndRange(t.setEndRange.endRange)}}])&&R(e.prototype,i),n&&R(e,n),t}()).prototype,P="changeRange",S=[n.bind],z=Object.getOwnPropertyDescriptor(w.prototype,"changeRange"),E=w.prototype,j={},Object.keys(z).forEach(function(t){j[t]=z[t]}),j.enumerable=!!j.enumerable,j.configurable=!!j.configurable,("value"in j||j.initializer)&&(j.writable=!0),j=S.slice().reverse().reduce(function(t,e){return e(x,P,t)||t},j),E&&void 0!==j.initializer&&(j.value=j.initializer?j.initializer.call(E):void 0,j.initializer=void 0),void 0===j.initializer&&(Object.defineProperty(x,P,j),j=null),w);var k=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=new v(e.dataset),n=new O(e);new H(i,n)};[].forEach.call(document.getElementsByClassName("sliderm3"),function(t){return new k(t)})}]);