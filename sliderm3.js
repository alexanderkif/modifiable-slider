!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=6)}([function(t,e,i){var n,o,s;o=[e],void 0===(s="function"==typeof(n=function(t){"use strict";t.__esModule=!0;var e={},i=Object.prototype.hasOwnProperty,n={memoize:function(t){var n=arguments.length<=1||void 0===arguments[1]?e:arguments[1],o=n.cache||{};return function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];var h=String(s[0]);return!1===n.caseSensitive&&(h=h.toLowerCase()),i.call(o,h)?o[h]:o[h]=t.apply(this,s)}},debounce:function(t,e){if("function"==typeof e){var i=t;t=e,e=i}var n=e&&e.delay||e||0,o=void 0,s=void 0,r=void 0;return function(){for(var e=arguments.length,i=Array(e),h=0;h<e;h++)i[h]=arguments[h];o=i,s=this,r||(r=setTimeout(function(){t.apply(s,o),o=s=r=null},n))}},bind:function(t,e,i){var n=i.value;return{configurable:!0,get:function(){var t=n.bind(this);return Object.defineProperty(this,e,{value:t,configurable:!0,writable:!0}),t}}}},o=h(n.memoize),s=h(n.debounce),r=h(function(t,e){return t.bind(e)},function(){return n.bind});function h(t,e){var i,n=(e=e||t.decorate||(i=t,function(t){return"function"==typeof t?i(t):function(e,n,o){o.value=i(o.value,t,e,n,o)}}))();return function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];var r=o.length;return(r<2?e:r>2?n:t).apply(void 0,o)}}t.memoize=o,t.debounce=s,t.bind=r,t.default={memoize:o,debounce:s,bind:r}})?n.apply(e,o):n)||(t.exports=s)},,,,,function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(5);var n,o=i(0);function s(t,e,i,n,o){var s={};return Object.keys(n).forEach(function(t){s[t]=n[t]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(t,e,s),s=null),s}let r=(s((n=class{constructor(t){Object.assign(this,t)}setStartRange(t){this.startRange=t,this.checkStartRange()}checkStartRange(){+this.startRange>+this.endRange&&(this.startRange=this.endRange),+this.startRange<+this.min&&(this.startRange=this.min)}setEndRange(t){this.endRange=t,this.checkEndRange()}checkEndRange(){this.interval&&+this.endRange<+this.startRange&&(this.endRange=this.startRange),!this.interval&&+this.endRange<+this.min&&(this.endRange=this.min),+this.endRange>+this.max&&(this.endRange=this.max)}}).prototype,"setStartRange",[o.bind],Object.getOwnPropertyDescriptor(n.prototype,"setStartRange"),n.prototype),s(n.prototype,"checkStartRange",[o.bind],Object.getOwnPropertyDescriptor(n.prototype,"checkStartRange"),n.prototype),s(n.prototype,"setEndRange",[o.bind],Object.getOwnPropertyDescriptor(n.prototype,"setEndRange"),n.prototype),s(n.prototype,"checkEndRange",[o.bind],Object.getOwnPropertyDescriptor(n.prototype,"checkEndRange"),n.prototype),n);var h;function l(t,e,i,n,o){var s={};return Object.keys(n).forEach(function(t){s[t]=n[t]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(t,e,s),s=null),s}let a=(l((h=class extends class{constructor(){this.observers=[]}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter(e=>e!==t)}broadcast(t){this.observers.forEach(e=>e(t))}}{constructor(t){super(),this.element=t,this.model=this.element.dataset,this.element.oncontextmenu=function(){return!1},this.element.ondragstart=function(){return!1},this.element.onselectstart=function(){return!1},this.draw(),this.element.addEventListener("draw",this.draw),document.addEventListener("mouseup",this.cancelMove),this.activePoint=0,window.addEventListener("resize",this.resizeThrottler),this.element.addEventListener("refreshView",this.refreshView)}refreshView(){this.broadcast({model:this.model,activePoint:this.activePoint}),this.draw()}mouseDownListener(t){var e;e=this.model.vertical?t.clientY>this.getCoords(this.point2Div).top+ +this.model.pointSize:t.clientX<this.getCoords(this.point2Div).left,this.model.interval&&e?this.activePoint=1:this.activePoint=2,this.setModelFromEvent(t),document.addEventListener("mousemove",this.mouseMoveListener),this.broadcast({model:this.model,activePoint:this.activePoint})}getCoords(t){var e=t.getBoundingClientRect();return{top:e.top,left:e.left}}setModelFromEvent(t){1==this.activePoint?this.model.startRange=this.getNewValueFromEvent(t):this.model.endRange=this.getNewValueFromEvent(t)}getNewValueFromEvent(t){var e;return e=this.model.vertical?this.lineDiv.offsetHeight-(t.clientY-this.getCoords(this.lineDiv).top+ +this.model.lineHeight/2):t.clientX-this.getCoords(this.lineDiv).left-+this.model.lineHeight/2,this.model.step*Math.round((+this.model.min+e*this.range/this.rangeMaxWidth)/this.model.step)}mouseMoveListener(t){0!=this.activePoint&&(this.setModelFromEvent(t),this.broadcast({model:this.model,activePoint:this.activePoint}))}cancelMove(){this.activePoint=0,document.removeEventListener("mousemove",this.mouseMoveListener)}resizeThrottler(){this.resizeTimeout||(this.resizeTimeout=setTimeout(function(){this.resizeTimeout=null,this.draw()}.bind(this),50))}draw(){this.lineDiv&&this.lineDiv.remove(),this.drawLine(),this.model.scale&&this.drawScale(),this.drawRange(),this.model.interval&&this.drawStartPoint(),this.drawEndPoint()}drawLine(){this.lineDiv=document.createElement("div"),this.lineDiv.className="sliderm3__line",this.model.vertical?(this.lineDiv.style.height=this.model.length,this.element.style.maxWidth=`${this.model.lineHeight}px`):(this.lineDiv.style.height=`${this.model.lineHeight}px`,this.element.style.maxWidth=this.model.length),this.lineDiv.style.borderRadius=`${this.model.lineHeight/2}px`,this.lineDiv.style.backgroundColor=this.model.colorLine,this.element.appendChild(this.lineDiv),this.lineDiv.addEventListener("mousedown",this.mouseDownListener)}drawScale(){var t;this.scaleDiv=document.createElement("ul"),this.scaleDiv.className="sliderm3__scale",this.scaleDiv.style.fontSize=`${3*this.model.pointSize/6}px`,this.scaleDiv.style.color=this.model.colorScale,this.lineDiv.appendChild(this.scaleDiv),this.model.vertical?(this.scaleDiv.style.flexDirection="column-reverse",this.scaleDiv.style.left=`${+this.model.pointSize>+this.model.lineHeight?+this.model.lineHeight+(+this.model.pointSize-+this.model.lineHeight)/2+5:+this.model.lineHeight+5}px`,this.scaleDiv.style.height=`${+this.lineDiv.offsetHeight}px`):(this.scaleDiv.style.top=`${+this.model.pointSize>+this.model.lineHeight?+this.model.lineHeight+(+this.model.pointSize-+this.model.lineHeight)/2+5:+this.model.lineHeight+5}px`,this.scaleDiv.style.width=`${+this.lineDiv.offsetWidth}px`);for(var e=0;e<=this.model.intervals;e++)(t=document.createElement("li")).style.listStyleType="none",t.innerHTML=Math.round(+this.model.min+(this.model.max-this.model.min)*e/this.model.intervals),this.scaleDiv.appendChild(t)}drawRange(){if(this.model.vertical?this.rangeMaxWidth=this.lineDiv.offsetHeight-this.model.lineHeight:this.rangeMaxWidth=this.lineDiv.offsetWidth-this.model.lineHeight,this.range=this.model.max-this.model.min,this.rangeDiv=document.createElement("div"),this.rangeDiv.className="sliderm3__range",this.model.interval){var t=(this.model.endRange-this.model.startRange)*this.rangeMaxWidth/this.range,e=(this.model.startRange-this.model.min)*this.rangeMaxWidth/this.range;this.model.vertical?(this.rangeDiv.style.height=`${t}px`,this.rangeDiv.style.top=`${this.rangeMaxWidth-t-e+this.model.lineHeight/2}px`):(this.rangeDiv.style.width=`${t}px`,this.rangeDiv.style.left=`${e+this.model.lineHeight/2}px`)}else{t=(this.model.endRange-this.model.min)*this.rangeMaxWidth/this.range;this.model.vertical?(this.rangeDiv.style.height=`${t}px`,this.rangeDiv.style.top=`${this.rangeMaxWidth-t+this.model.lineHeight/2}px`):(this.rangeDiv.style.width=`${t}px`,this.rangeDiv.style.left=`${this.model.lineHeight/2}px`)}if(this.lineDiv.appendChild(this.rangeDiv),this.pointRange=document.createElement("div"),this.pointRange.className="sliderm3__point-range",this.model.vertical){this.pointRange.style.width=`${this.model.lineHeight}px`;var i=+this.rangeDiv.offsetHeight+ +this.model.lineHeight;this.pointRange.style.height=`${i}px`,this.pointRange.style.top=`${-this.model.lineHeight/2}px`}else this.pointRange.style.height=`${this.model.lineHeight}px`,this.pointRange.style.width=`${+this.rangeDiv.offsetWidth+ +this.model.lineHeight}px`,this.pointRange.style.left=`${-this.model.lineHeight/2}px`;this.pointRange.style.borderRadius=`${this.model.lineHeight/2}px`,this.pointRange.style.backgroundColor=this.model.colorRange,this.rangeDiv.appendChild(this.pointRange)}drawStartPoint(){this.point1Div=document.createElement("div"),this.point1Div.className="sliderm3__point",this.point1Div.style.height=this.point1Div.style.width=`${this.model.pointSize}px`,this.model.vertical?(this.point1Div.style.top=`${this.rangeDiv.offsetHeight-this.model.pointSize/2}px`,this.point1Div.style.left=`${this.model.lineHeight/2-this.model.pointSize/2}px`):(this.point1Div.style.top=`${this.lineDiv.offsetHeight/2-this.model.pointSize/2}px`,this.point1Div.style.left=`${-this.model.pointSize/2}px`),this.point1Div.style.backgroundColor=this.model.colorPoint,this.rangeDiv.appendChild(this.point1Div),this.model.hint&&this.drawHint(this.point1Div,this.model.startRange)}drawEndPoint(){this.point2Div=document.createElement("div"),this.point2Div.className="sliderm3__point",this.point2Div.style.height=this.point2Div.style.width=`${this.model.pointSize}px`,this.model.vertical?(this.point2Div.style.top=`${-this.model.pointSize/2}px`,this.point2Div.style.left=`${this.model.lineHeight/2-this.model.pointSize/2}px`):(this.point2Div.style.top=`${this.lineDiv.offsetHeight/2-this.model.pointSize/2}px`,this.point2Div.style.left=`${this.rangeDiv.offsetWidth-this.model.pointSize/2}px`),this.point2Div.style.backgroundColor=this.model.colorPoint,this.rangeDiv.appendChild(this.point2Div),this.model.hint&&this.drawHint(this.point2Div,this.model.endRange)}drawHint(t,e){this.hintDiv=document.createElement("div"),this.hintDiv.className="sliderm3__hint",this.hintDiv.style.height=`${this.model.pointSize}px`,this.hintDiv.style.fontSize=`${4*this.model.pointSize/6}px`,this.hintDiv.style.color=this.model.colorText,this.hintDiv.innerHTML=Math.round(100*e)/100,t.appendChild(this.hintDiv),this.arrowDiv=document.createElement("div"),this.arrowDiv.className="sliderm3__arrow",this.arrowDiv.style.height=`${this.model.pointSize/3}px`,this.arrowDiv.style.width=`${this.model.pointSize/3}px`,this.hintDiv.appendChild(this.arrowDiv),this.model.vertical?(this.hintDiv.style.left=`${-this.model.pointSize/2-this.hintDiv.offsetWidth}px`,this.hintDiv.style.top=`${this.model.pointSize/2-this.hintDiv.offsetHeight/2}px`,this.arrowDiv.style.top=`${this.hintDiv.offsetHeight/2-this.arrowDiv.offsetHeight/2}px`,this.arrowDiv.style.left=`${this.hintDiv.offsetWidth-this.arrowDiv.offsetWidth/2-1}px`):(this.hintDiv.style.top=`${-this.model.pointSize/2-this.hintDiv.offsetHeight}px`,this.hintDiv.style.left=`${this.model.pointSize/2-this.hintDiv.offsetWidth/2}px`,this.arrowDiv.style.top=`${this.hintDiv.offsetHeight-this.arrowDiv.offsetHeight/2-1}px`,this.arrowDiv.style.left=`${this.hintDiv.offsetWidth/2-this.arrowDiv.offsetWidth/2}px`)}}).prototype,"refreshView",[o.bind],Object.getOwnPropertyDescriptor(h.prototype,"refreshView"),h.prototype),l(h.prototype,"mouseDownListener",[o.bind],Object.getOwnPropertyDescriptor(h.prototype,"mouseDownListener"),h.prototype),l(h.prototype,"mouseMoveListener",[o.bind],Object.getOwnPropertyDescriptor(h.prototype,"mouseMoveListener"),h.prototype),l(h.prototype,"cancelMove",[o.bind],Object.getOwnPropertyDescriptor(h.prototype,"cancelMove"),h.prototype),l(h.prototype,"resizeThrottler",[o.bind],Object.getOwnPropertyDescriptor(h.prototype,"resizeThrottler"),h.prototype),l(h.prototype,"draw",[o.bind],Object.getOwnPropertyDescriptor(h.prototype,"draw"),h.prototype),l(h.prototype,"drawLine",[o.bind],Object.getOwnPropertyDescriptor(h.prototype,"drawLine"),h.prototype),l(h.prototype,"drawScale",[o.bind],Object.getOwnPropertyDescriptor(h.prototype,"drawScale"),h.prototype),l(h.prototype,"drawRange",[o.bind],Object.getOwnPropertyDescriptor(h.prototype,"drawRange"),h.prototype),l(h.prototype,"drawStartPoint",[o.bind],Object.getOwnPropertyDescriptor(h.prototype,"drawStartPoint"),h.prototype),l(h.prototype,"drawEndPoint",[o.bind],Object.getOwnPropertyDescriptor(h.prototype,"drawEndPoint"),h.prototype),l(h.prototype,"drawHint",[o.bind],Object.getOwnPropertyDescriptor(h.prototype,"drawHint"),h.prototype),h);var d;function p(t,e,i,n,o){var s={};return Object.keys(n).forEach(function(t){s[t]=n[t]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,n){return n(t,e,i)||i},s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(t,e,s),s=null),s}let c=(p((d=class{constructor(t,e){this.model=t,this.view=e,this.view.subscribe(t=>this.changeRange(t.model,t.activePoint)),this.toDraw()}changeRange(t,e){Object.assign(this.model,t),1==e&&this.model.setStartRange(t.startRange),2==e&&this.model.setEndRange(t.endRange),this.toDraw()}toDraw(){Object.assign(this.view.element.dataset,this.model),this.view.draw()}}).prototype,"changeRange",[o.bind],Object.getOwnPropertyDescriptor(d.prototype,"changeRange"),d.prototype),p(d.prototype,"toDraw",[o.bind],Object.getOwnPropertyDescriptor(d.prototype,"toDraw"),d.prototype),d);class v{constructor(t){var e=new r(t.dataset),i=new a(t);new c(e,i)}}[].forEach.call(document.getElementsByClassName("sliderm3"),t=>new v(t))}]);